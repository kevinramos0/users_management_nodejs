"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isBetween = void 0;

var _utils = require("./utils");

const isBetween = _ref => {
  let {
    parser
  } = _ref;
  return {
    type: 'string',
    schemaType: 'array',
    compile: _ref2 => {
      let [lower, upper] = _ref2;
      const dLower = (0, _utils.parseOrThrow)(lower, parser);
      const dUpper = (0, _utils.parseOrThrow)(upper, parser);

      const validator = subject => {
        const createError = (0, _utils.createErrorCreator)(validator);
        return (0, _utils.parse)(subject, parser, createError, parsed => {
          if (dLower < parsed && parsed < dUpper) return true;
          createError({
            message: `Date must be between ${lower} and ${upper}`
          });
        });
      };

      return validator;
    }
  };
};

exports.isBetween = isBetween;