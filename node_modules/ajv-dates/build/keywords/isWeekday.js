"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isWeekday = void 0;

var _utils = require("./utils");

const isWeekday = _ref => {
  let {
    parser
  } = _ref;
  return {
    type: 'string',
    schemaType: 'boolean',
    compile: arg => {
      const validator = subject => {
        const createError = (0, _utils.createErrorCreator)(validator);
        return (0, _utils.parse)(subject, parser, createError, parsed => {
          const day = parsed.getDay();
          const isWeekend = day === 0 || day === 6;
          if (!isWeekend === arg) return true;
          createError({
            message: `Date must ${arg === false ? 'not be' : 'be'} a weekday`
          });
        });
      };

      return validator;
    }
  };
};

exports.isWeekday = isWeekday;